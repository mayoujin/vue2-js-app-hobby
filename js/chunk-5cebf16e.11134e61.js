(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cebf16e"],{"0126":function(t,e,r){"use strict";r("a6915")},"0fd6":function(t,e,r){t.exports={adder:"_1HW-x16L",adder__error:"_3aTi0IW7",adder__input:"_3bvfZts5","adder__error-message":"_1GCLBdzg",optimistic:"_3q5_9cce","hobby-name":"_2DX2hjPY","drop-button":"_3y-CRaME"}},"13d5":function(t,e,r){"use strict";var n=r("23e7"),a=r("d58f").left,i=r("a640"),s=r("2d00"),u=r("605d"),c=i("reduce"),o=!u&&s>79&&s<83;n({target:"Array",proto:!0,forced:!c||o},{reduce:function(t){return a(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"228f":function(t,e,r){"use strict";var n=r("83e9"),a=r.n(n);r.d(e,"default",(function(){return a.a}))},"22c8":function(t,e,r){"use strict";var n=r("9951"),a=r.n(n);r.d(e,"default",(function(){return a.a}))},"498a":function(t,e,r){"use strict";var n=r("23e7"),a=r("58a8").trim,i=r("c8d2");n({target:"String",proto:!0,forced:i("trim")},{trim:function(){return a(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var n=r("1d80"),a=r("5899"),i="["+a+"]",s=RegExp("^"+i+i+"*"),u=RegExp(i+i+"*$"),c=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(s,"")),2&t&&(r=r.replace(u,"")),r}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5d41":function(t,e,r){var n=r("23e7"),a=r("861d"),i=r("825a"),s=r("5135"),u=r("06cf"),c=r("e163");function o(t,e){var r,n,b=arguments.length<3?t:arguments[2];return i(t)===b?t[e]:(r=u.f(t,e))?s(r,"value")?r.value:void 0===r.get?void 0:r.get.call(b):a(n=c(t))?o(n,e,b):void 0}n({target:"Reflect",stat:!0},{get:o})},6340:function(t,e,r){t.exports={page:"_2uKggl8k",list:"_2HJyySTu"}},"640c":function(t,e,r){"use strict";var n=r("0fd6"),a=r.n(n);r.d(e,"default",(function(){return a.a}))},"7db0":function(t,e,r){"use strict";var n=r("23e7"),a=r("b727").find,i=r("44d2"),s="find",u=!0;s in[]&&Array(1)[s]((function(){u=!1})),n({target:"Array",proto:!0,forced:u},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i(s)},"83e9":function(t,e,r){t.exports={list:"IsdtjZc5",empty:"_2JOkUdz5",item:"_3r9y2E1H",actions:"_398MdPKx",button:"DtJTBxdG"}},9951:function(t,e,r){t.exports={status:"_1yn5OFEL",error:"_2MKLD9hQ","pick-button":"_2i_Hr2e8"}},a6915:function(t,e,r){},c8d2:function(t,e,r){var n=r("d039"),a=r("5899"),i="​᠎";t.exports=function(t){return n((function(){return!!a[t]()||i[t]()!=i||a[t].name!==t}))}},d58f:function(t,e,r){var n=r("1c0b"),a=r("7b0b"),i=r("44ad"),s=r("50c4"),u=function(t){return function(e,r,u,c){n(r);var o=a(e),b=i(o),d=s(o.length),l=t?d-1:0,f=t?-1:1;if(u<2)while(1){if(l in b){c=b[l],l+=f;break}if(l+=f,t?l<0:d<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:d>l;l+=f)l in b&&(c=r(c,b[l],l,o));return c}};t.exports={left:u(!1),right:u(!0)}},db1a:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return St}));var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.$style.page},[r("h1",[t._v("Управление списками хобби")]),r("div",{class:t.$style.list},[r("h2",[t._v("Ваши хобби")]),r("Suspense",{scopedSlots:t._u([{key:"fallback",fn:function(){return[r("div",[t._v("Загрузка списка...")])]},proxy:!0}])},[r("PickedHobbyList")],1)],1),r("div",{class:t.$style.list},[r("h2",[t._v("Хобби друзей")]),r("Suspense",{scopedSlots:t._u([{key:"fallback",fn:function(){return[r("div",[t._v("Загрузка списка...")])]},proxy:!0}])},[r("OptionalHobbyList")],1)],1)])},a=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ErrorBoundary",{attrs:{tag:"div","stop-propagation":""},scopedSlots:t._u([{key:"boundary",fn:function(e){var n=e.hasError;return[n?[r("div",[t._v("Не удалось загрузить список хобби друзей")])]:[r("HobbyList",{attrs:{hobbies:t.optionalHobbies},scopedSlots:t._u([{key:"actions",fn:function(e){var n=e.hobby;return[!1===t.isBusy&&!1===t.meta[n.uuid].isPicked?r("button",{class:t.$style["pick-button"],attrs:{title:"Добавить"},on:{click:function(e){return t.pickHobby(n)}}}):t._e()]}},{key:"status",fn:function(e){var n=e.hobby;return[t.meta[n.uuid].isPicked?r("div",{class:t.$style.status},[t._v(" Добавлено в ваши хобби ")]):t.itemErrors[n.hash]?r("div",{class:t.$style.error},[t._v(" Ошибка добвления ")]):t._e()]}},{key:"empty",fn:function(){return[r("div",{class:t.$style.empty},[t._v("В этом списке пока нет хобби")])]},proxy:!0}])})]]}}])})},s=[],u=r("1da1"),c=r("5530"),o=r("ade3"),b=(r("96cf"),r("13d5"),function(t,e){var r=e._c;return r("transition",{attrs:{name:"fade",mode:"out-in",tag:"div"}},[e.props.hobbies.length?[r("transition-group",{class:e.$style.list,attrs:{name:"fade",mode:"out-in",tag:"ul"}},[e._l(e.props.hobbies,(function(t){return[r("li",{key:t.hash,class:e.$style.item},[r("div",{class:e.$style.actions},[e._t("actions",null,{hobby:t})],2),e._t("hobby-name",[e._v(" "+e._s(t.hobby)+" ")],{hobby:t}),e._t("status",null,{hobby:t})],2)]}))],2)]:r("div",{class:e.$style.empty},[e._t("empty")],2)],2)}),d=[],l={name:"HobbyList",props:{hobbies:Array}},f=l,p=r("228f"),h=r("2877");function v(t){this["$style"]=p["default"].locals||p["default"]}var y=Object(h["a"])(f,b,d,!0,v,null,null),O=y.exports,j=r("c8d1"),m=r("14b6"),g=function(t,e){return Object(o["a"])({},t.uuid,{isPicked:Object(j["b"])(t,e)})},k={name:"OptionalHobbyList",data:function(){return{isBusy:!1,itemErrors:{}}},components:{HobbyList:O},computed:{optionalHobbies:function(){return this.$storage.getters.optionalHobbies},meta:function(){var t=this;return this.optionalHobbies.reduce((function(e,r){return Object(c["a"])(Object(c["a"])({},e),g(r,t.$storage.getters.pickedHobbies))}),{})}},created:function(){var t=this;Object(m["createResource"])(Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.$storage.actions.fetchOptionalHobbies());case 1:case"end":return e.stop()}}),e)})))).read()},methods:{pickHobby:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.isBusy=!0,delete e.itemErrors[t.hash],r.next=4,e.$storage.actions.pickHobby(t);case 4:n=r.sent,e.isBusy=!1,n.elseDo((function(r){e.itemErrors[t.hash]=r.message}));case 7:case"end":return r.stop()}}),r)})))()}}},w=k,_=r("22c8");function E(t){this["$style"]=_["default"].locals||_["default"]}var x=Object(h["a"])(w,i,s,!1,E,null,null),H=x.exports,R=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ErrorBoundary",{attrs:{tag:"div","stop-propagation":""},scopedSlots:t._u([{key:"boundary",fn:function(e){var n,a=e.hasError;return[a||t.hasFetchErrors?[r("div",[t._v("Не удалось загрузить список ваших хобби")])]:[r("div",{class:t.$style.adder},[r("input",{ref:"addNewInput",class:(n={},n[t.$style["adder__error"]]=t.isAddError,n[t.$style["adder__input"]]=!0,n),attrs:{placeholder:"Введите название",disabled:t.isAddingNew},on:{keypress:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addNewHobby(e)},t.resetAdderError]}}),r("button",{attrs:{disabled:t.isBusy},on:{click:t.addNewHobby}},[t._v(" добавить ")]),t.addingErrorString?r("div",{class:t.$style["adder__error-message"]},[t._v(" "+t._s(t.addingErrorString)+" ")]):t._e()]),r("HobbyList",{attrs:{hobbies:t.pickedHobbies},scopedSlots:t._u([{key:"actions",fn:function(e){var n=e.hobby;return[!1===t.isBusy&&!1===t.meta[n.uuid].isOptimistic?r("button",{class:t.$style["drop-button"],attrs:{title:"Убрать"},on:{click:function(e){return t.dropHobby(n)}}}):t._e()]}},{key:"hobby-name",fn:function(e){var n,a=e.hobby;return[r("div",{class:(n={},n[t.$style["optimistic"]]=t.meta[a.uuid].isOptimistic,n[t.$style["hobby-name"]]=!0,n)},[t._v(" "+t._s(a.hobby)+" ")])]}},{key:"status",fn:function(e){var n=e.hobby;return[t.meta[n.uuid].isOptimistic?r("div",{class:t.$style["optimistic"]},[t._v(" (...обрабатывается) ")]):t._e()]}},{key:"empty",fn:function(){return[r("div",[t._v("В Вашем списке пока нет хобби")])]},proxy:!0}])})]]}}])})},$=[],P=r("d4ec"),A=r("bee2"),N=r("257e"),S=r("262e"),L=r("2caf"),D=r("5122"),B=r("5cf7"),T=r("2b0e"),C=(r("9de1"),r("5d41"),r("e439"),r("7e84"));function I(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Object(C["a"])(t),null===t)break;return t}function F(t,e,r){return F="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=I(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(r):a.value}},F(t,e,r||t)}var q=r("9072"),U=(r("99af"),r("dca8"),r("d3b7"),r("3ca3"),r("ddb0"),r("b466")),G=(r("4c65"),function(t){var e=t.status;return T["a"].observable({status:null!==e&&void 0!==e?e:null,result:null,error:null})}),J=Object(B["a"])("isCompleted"),M=function(t){Object(S["a"])(r,t);var e=Object(L["a"])(r);function r(){var t;Object(P["a"])(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a)),Object.defineProperty(Object(N["a"])(t),J,{writable:!0,value:!1}),t.addEventListener("complete",(function(){Object(D["a"])(Object(N["a"])(t),J)[J]=!0})),t}return Object(A["a"])(r,[{key:"isCompleted",get:function(){return Object(D["a"])(this,J)[J]}}]),r}(Object(q["a"])(EventTarget)),z=Object.freeze({STANDBY:0,RUNNING:5,SUCCEEDED:10,FAILED:-10}),K=function(t){var e=t.result,r=t.error,n=t.state;return e&&(n.result=e,n.status=z.SUCCEEDED),r&&(n.status=z.FAILED,n.error=r),e},Y=Object(B["a"])("command"),Q=Object(B["a"])("signal"),W=Object(B["a"])("awaitQueue"),Z=Object(B["a"])("complete"),X=function(){function t(e){Object(P["a"])(this,t),Object.defineProperty(this,Z,{value:V}),Object.defineProperty(this,Y,{writable:!0,value:void 0}),Object.defineProperty(this,Q,{writable:!0,value:void 0}),Object.defineProperty(this,W,{writable:!0,value:[]}),Object(D["a"])(this,Y)[Y]=e,Object(D["a"])(this,Q)[Q]=new M}return Object(A["a"])(t,[{key:"run",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,r,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!Object(D["a"])(this,Q)[Q].isCompleted){t.next=2;break}throw new Error("Task already run");case 2:return t.next=4,Promise.all(Object(D["a"])(this,W)[W]);case 4:if(t.prev=4,"function"!==typeof Object(D["a"])(this,Y)[Y]){t.next=7;break}return t.abrupt("return",(r=Object(D["a"])(this,Y))[Y].apply(r,n));case 7:return t.abrupt("return",(e=Object(D["a"])(this,Y)[Y]).execute.apply(e,n));case 8:return t.prev=8,Object(D["a"])(this,Z)[Z](),t.finish(8);case 11:case"end":return t.stop()}}),t,this,[[4,,8,11]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"signal",get:function(){return Object(D["a"])(this,Q)[Q]}},{key:"isCompleted",get:function(){return Object(D["a"])(this,Q)[Q].isCompleted}},{key:"wait",value:function(t){Object(D["a"])(this,W)[W].push(new Promise((function(e){t.signal.addEventListener("complete",(function(){e()}))})))}}]),t}();function V(){var t=new CustomEvent("complete");Object(D["a"])(this,Q)[Q].dispatchEvent(t)}Object(B["a"])("controller");var tt=Object(B["a"])("task"),et=Object(B["a"])("state"),rt=function(t){Object(S["a"])(r,t);var e=Object(L["a"])(r);function r(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G({status:z.STANDBY});return Object(P["a"])(this,r),n=e.call(this,t),Object.defineProperty(Object(N["a"])(n),tt,{writable:!0,value:void 0}),Object.defineProperty(Object(N["a"])(n),et,{writable:!0,value:void 0}),Object(D["a"])(Object(N["a"])(n),et)[et]=a,n}return Object(A["a"])(r,[{key:"run",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i,s,u=this,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(t.prev=0,Object(D["a"])(this,et)[et].status=z.RUNNING,n=c.length,a=new Array(n),i=0;i<n;i++)a[i]=c[i];return t.next=5,(e=F(Object(C["a"])(r.prototype),"run",this)).call.apply(e,[this].concat(a));case 5:if(s=t.sent,!(s instanceof U["Result"])){t.next=8;break}return t.abrupt("return",s.cata({Ok:function(){return K({result:s,state:Object(D["a"])(u,et)[et]})},Err:function(t){return K({error:t,state:Object(D["a"])(u,et)[et]})}}));case 8:return t.abrupt("return",K({result:s,state:Object(D["a"])(this,et)[et]}));case 11:throw t.prev=11,t.t0=t["catch"](0),K({error:t.t0,state:Object(D["a"])(this,et)[et]}),t.t0;case 15:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"isRunning",get:function(){return Object(D["a"])(this,et)[et].status===z.RUNNING}},{key:"hasError",get:function(){return Object(D["a"])(this,et)[et].status===z.FAILED}},{key:"state",get:function(){return Object(D["a"])(this,et)[et]}}]),r}(X),nt=(Object(B["a"])("task"),Object(B["a"])("commit"),Object(B["a"])("rollback"),function(t,e){return new rt(t,e)}),at=r("9f83"),it=(r("4de4"),r("7db0"),r("d81d"),Object(B["a"])("state")),st=function(){function t(){Object(P["a"])(this,t),Object.defineProperty(this,it,{writable:!0,value:T["a"].observable({tasks:[]})})}return Object(A["a"])(t,[{key:"enqueueTask",value:function(t,e){var r=this;Object(D["a"])(this,it)[it].tasks=Object(D["a"])(this,it)[it].tasks.concat({taskId:t,task:e}),e.signal.addEventListener("complete",(function(){return r.dequeueTask(e)}))}},{key:"dequeueTask",value:function(t){Object(D["a"])(this,it)[it].tasks=Object(D["a"])(this,it)[it].tasks.filter((function(e){var r=e.task;return t!==r}))}},{key:"getTaskByAction",value:function(t){var e,r=null!==(e=Object(D["a"])(this,it)[it].tasks.find((function(e){var r=e.taskId;return r===t})))&&void 0!==e?e:{},n=r.task;return n}},{key:"getTasksByAction",value:function(t){return Object(D["a"])(this,it)[it].tasks.filter((function(e){var r=e.taskId;return r===t})).map((function(t){var e=t.task;return e}))}}]),t}(),ut=(r("498a"),r("8ad1")),ct=r("365b"),ot=function(t){return t.trim()},bt=function(t){var e=ot(t),r={hobby:e};return r},dt=Object(B["a"])("storage"),lt=Object(B["a"])("apollo"),ft=Object(B["a"])("service"),pt=function(){function t(e){var r=e.storage,n=e.apollo,a=void 0===n?ut["a"]:n,i=e.service,s=void 0===i?ct["a"]:i;Object(P["a"])(this,t),Object.defineProperty(this,dt,{writable:!0,value:void 0}),Object.defineProperty(this,lt,{writable:!0,value:void 0}),Object.defineProperty(this,ft,{writable:!0,value:void 0}),Object(D["a"])(this,dt)[dt]=r,Object(D["a"])(this,lt)[lt]=a,Object(D["a"])(this,ft)[ft]=s}return Object(A["a"])(t,[{key:"execute",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var r,n,a,i,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.rawHobbyString,n=bt(r),!1!==Object(j["c"])(n)){t.next=4;break}return t.abrupt("return",Object(U["err"])(new Error("Неверное значение для хобби (слишком короткое или длинное, и т.п.)")));case 4:return a=function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(D["a"])(s,ft)[ft].addNewHobby(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.next=7,Object(D["a"])(this,dt)[dt].actions.addNewHobby(n,a);case 7:return i=t.sent,t.abrupt("return",i);case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),ht=Object(B["a"])("storage"),vt=function(){function t(e){var r=e.storage;Object(P["a"])(this,t),Object.defineProperty(this,ht,{writable:!0,value:void 0}),Object(D["a"])(this,ht)[ht]=r}return Object(A["a"])(t,[{key:"execute",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.hobby,t.next=3,Object(D["a"])(this,ht)[ht].actions.dropHobby(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),yt=r("b50b"),Ot=function(t,e){return Object(o["a"])({},t.uuid,{isPicked:Object(j["b"])(t,e),isOptimistic:t instanceof at["a"]})},jt=Object(B["a"])("storage"),mt=Object(B["a"])("state"),gt=function(t){Object(S["a"])(r,t);var e=Object(L["a"])(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.storage;return Object(P["a"])(this,r),t=e.call(this),Object.defineProperty(Object(N["a"])(t),jt,{writable:!0,value:void 0}),Object.defineProperty(Object(N["a"])(t),mt,{writable:!0,value:T["a"].observable({hasFetchErrors:!1})}),a&&(Object(D["a"])(Object(N["a"])(t),jt)[jt]=a),t}return Object(A["a"])(r,[{key:"pickedHobbies",get:function(){return Object(D["a"])(this,jt)[jt].getters.pickedHobbies}},{key:"hasFetchErrors",get:function(){return Object(D["a"])(this,mt)[mt].hasFetchErrors}},{key:"meta",get:function(){var t=this;return this.pickedHobbies.reduce((function(e,r){return Object(c["a"])(Object(c["a"])({},e),Ot(r,Object(D["a"])(t,jt)[jt].getters.optionalHobbies))}),{})}},{key:"fetchHobbies",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",yt["getPickedHobbies"]());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r=function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(D["a"])(i,jt)[jt].actions.fetchPickedHobbies(e));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=nt(r),t.prev=3,t.next=6,n.run();case 6:return a=t.sent,a.elseDo((function(){Object(D["a"])(i,mt)[mt].hasFetchErrors=!0})),t.abrupt("return",a);case 11:t.prev=11,t.t0=t["catch"](3),Object(D["a"])(this,mt)[mt].hasFetchErrors=!0;case 14:case"end":return t.stop()}}),t,this,[[3,11]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"dropHobby",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=nt(new vt({storage:Object(D["a"])(this,jt)[jt]})),this.enqueueTask(this.dropHobby,r),t.next=4,r.run({hobby:e});case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"addNewHobby",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=nt(new pt({storage:Object(D["a"])(this,jt)[jt]})),this.enqueueTask(this.addNewHobby,r),t.next=4,r.run({rawHobbyString:e});case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),r}(st),kt={name:"PickedHobbyList",data:function(){return{isAddError:!1,addingErrorString:null}},components:{HobbyList:O},computed:{pickedHobbies:function(){return this.vm.pickedHobbies},meta:function(){return this.vm.meta},isBusy:function(){return this.isDropping||this.isAddingNew},isAddingNew:function(){return this.vm.getTasksByAction(this.vm.addNewHobby).some((function(t){var e=t.isRunning;return e}))},isDropping:function(){return this.vm.getTasksByAction(this.vm.dropHobby).some((function(t){var e=t.isRunning;return e}))},hasFetchErrors:function(){return this.vm.hasFetchErrors}},created:function(){var t=this;this.vm=new gt({storage:this.$storage}),Object(m["createResource"])((function(){return t.vm.fetchHobbies()})).read()},methods:{addNewHobby:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.$refs.addNewInput,e.next=3,t.vm.addNewHobby(r.value);case 3:n=e.sent,n.do((function(){r.value="",t.resetAdderError()})).elseDo((function(e){t.isAddError=!0,t.addingErrorString=e.message}));case 5:case"end":return e.stop()}}),e)})))()},dropHobby:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=confirm("Удалить хобби их списка?"),!1!==n){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,e.vm.dropHobby(t);case 5:case"end":return r.stop()}}),r)})))()},resetAdderError:function(){this.isAddError=!1,this.addingErrorString=null}}},wt=kt,_t=r("640c");function Et(t){this["$style"]=_t["default"].locals||_t["default"]}var xt=Object(h["a"])(wt,R,$,!1,Et,null,null),Ht=xt.exports,Rt={name:"Main",components:{PickedHobbyList:Ht,OptionalHobbyList:H}},$t=Rt,Pt=(r("0126"),r("e895"));function At(t){this["$style"]=Pt["default"].locals||Pt["default"]}var Nt=Object(h["a"])($t,n,a,!1,At,null,null),St=Nt.exports},e895:function(t,e,r){"use strict";var n=r("6340"),a=r.n(n);r.d(e,"default",(function(){return a.a}))}}]);